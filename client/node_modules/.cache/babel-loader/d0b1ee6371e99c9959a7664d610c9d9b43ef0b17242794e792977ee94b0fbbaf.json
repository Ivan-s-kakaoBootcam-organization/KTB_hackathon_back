{"ast":null,"code":"var _jsxFileName = \"/Users/jeong-yujin/Downloads/parent-teacher-chatbot/client/src/App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // 상태 관리\n  const [step, setStep] = useState(1); // 1: 학생 정보 입력, 2: 채팅, 3: 결과 요약\n  const [studentInfo, setStudentInfo] = useState({\n    grade: '',\n    class: '',\n    name: ''\n  });\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [emailStatus, setEmailStatus] = useState(''); // [해결], [미해결], [확인 부탁]\n  const [conversationSummary, setConversationSummary] = useState({\n    topic: '',\n    keyPoints: ['문의 내용을 분석 중입니다...'],\n    links: []\n  });\n  const [showConversation, setShowConversation] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  // 메시지 목록이 업데이트될 때마다 스크롤을 아래로 이동\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [messages]);\n\n  // 학생 정보 입력 변경 핸들러\n  const handleStudentInfoChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setStudentInfo({\n      ...studentInfo,\n      [name]: value\n    });\n  };\n\n  // 학생 정보 제출 핸들러\n  const handleSubmitStudentInfo = e => {\n    e.preventDefault();\n    // 모든 필드가 입력되었는지 확인\n    if (!studentInfo.grade || !studentInfo.class || !studentInfo.name) {\n      alert('모든 학생 정보를 입력해주세요.');\n      return;\n    }\n\n    // 채팅 단계로 이동\n    setStep(2);\n\n    // 초기 인사 메시지 추가\n    setMessages([{\n      id: Date.now(),\n      text: `${studentInfo.name} 학생의 학부모님, 안녕하세요! 이도 초등학교 챗봇입니다. 무엇을 도와드릴까요?`,\n      sender: 'bot'\n    }]);\n  };\n\n  // 새 메시지 전송 핸들러\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n\n    // 새 메시지 추가\n    const userMessage = {\n      id: Date.now(),\n      text: newMessage,\n      sender: 'user'\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setNewMessage('');\n\n    // AI 응답 처리 (실제 구현에서는 OpenAI API 호출)\n    setTimeout(() => {\n      const botResponse = {\n        id: Date.now(),\n        text: getBotResponse(newMessage),\n        sender: 'bot'\n      };\n      setMessages(prev => [...prev, botResponse]);\n    }, 1000);\n  };\n\n  // 간단한 봇 응답 생성 (실제 RAG 구현은 OpenAI API로 대체)\n  const getBotResponse = message => {\n    // 실제 구현에서는 OpenAI API를 호출하여 RAG 시스템으로 응답 생성\n    if (message.includes('가정통신문')) {\n      return '가정통신문은 매주 금요일에 발송됩니다. 최근 가정통신문은 학교 홈페이지에서도 확인하실 수 있습니다.';\n    } else if (message.includes('급식')) {\n      return '급식 메뉴는 학교 홈페이지의 \"급식 안내\" 메뉴에서 확인하실 수 있습니다.';\n    } else if (message.includes('상담')) {\n      return '선생님과의 상담은 사전 예약이 필요합니다. 원하시는 날짜와 시간을 알려주시면 선생님께 전달하겠습니다.';\n    } else {\n      return '죄송합니다. 말씀하신 내용에 대한 정보가 부족합니다. 선생님께 직접 전달하도록 하겠습니다.';\n    }\n  };\n\n  // 채팅 완료 핸들러\n  const handleFinishChat = async () => {\n    // 간단한 분류 로직 (실제로는 더 복잡한 AI 분류 사용)\n    let status = '[확인 부탁]'; // 기본값\n\n    const allText = messages.map(m => m.text).join(' ').toLowerCase();\n    if (allText.includes('상담') || allText.includes('면담')) {\n      status = '[확인 부탁]';\n    } else if (allText.includes('감사') || allText.includes('해결')) {\n      status = '[해결]';\n    } else if (allText.includes('문제') || allText.includes('불만')) {\n      status = '[미해결]';\n    }\n    setEmailStatus(status);\n\n    // 대화 내용 요약 생성 (실제로는 서버 API를 호출)\n    // 여기서는 간단한 예시로 구현\n    const generateSummary = () => {\n      // 실제 구현에서는 서버에 API 요청\n\n      // 대화 주제 추출\n      let topic = '일반 문의';\n      if (allText.includes('교육비') || allText.includes('지원')) {\n        topic = '교육비 지원 문의';\n      } else if (allText.includes('체육') || allText.includes('대회')) {\n        topic = '도민체육대회 관련 문의';\n      } else if (allText.includes('일정') || allText.includes('행사')) {\n        topic = '학교 일정 문의';\n      }\n\n      // 키포인트 추출 (실제로는 AI가 분석)\n      const keyPoints = [];\n      if (allText.includes('신청')) keyPoints.push('교육비 지원 신청 방법 문의');\n      if (allText.includes('기간')) keyPoints.push('신청 기간 문의');\n      if (allText.includes('서류')) keyPoints.push('필요 서류 문의');\n      if (allText.includes('자격')) keyPoints.push('지원 자격 문의');\n\n      // 링크 추천 (실제로는 문서 분석 기반으로 제공)\n      const links = [];\n      if (topic === '교육비 지원 문의') {\n        links.push({\n          title: '교육비 지원 안내 페이지',\n          url: 'https://www.ido.school.edu/support'\n        });\n      } else if (topic === '도민체육대회 관련 문의') {\n        links.push({\n          title: '제59회 도민체육대회 안내',\n          url: 'https://www.ido.school.edu/sports'\n        });\n      }\n\n      // 키포인트가 없으면 기본값 설정\n      if (keyPoints.length === 0) {\n        keyPoints.push('학부모님의 질문에 대한 정보 제공');\n        keyPoints.push('필요시 담임교사의 추가 확인 필요');\n      }\n      return {\n        topic,\n        keyPoints,\n        links\n      };\n    };\n    const summary = generateSummary();\n    setConversationSummary(summary);\n    setStep(3);\n  };\n\n  // 처음으로 돌아가기\n  const handleRestart = () => {\n    setStep(1);\n    setStudentInfo({\n      grade: '',\n      class: '',\n      name: ''\n    });\n    setMessages([]);\n    setNewMessage('');\n    setEmailStatus('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uC774\\uB3C4 \\uCD08\\uB4F1\\uD559\\uAD50 \\uD559\\uBD80\\uBAA8 \\uC18C\\uD1B5 \\uCC57\\uBD07\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"student-info-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD559\\uC0DD \\uC815\\uBCF4 \\uC785\\uB825\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitStudentInfo,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD559\\uB144\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"grade\",\n              value: studentInfo.grade,\n              onChange: handleStudentInfoChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), [1, 2, 3, 4, 5, 6].map(grade => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: grade,\n                children: [grade, \"\\uD559\\uB144\"]\n              }, grade, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uBC18\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"class\",\n              value: studentInfo.class,\n              onChange: handleStudentInfoChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), [1, 2, 3, 4, 5].map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: cls,\n                children: [cls, \"\\uBC18\"]\n              }, cls, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD559\\uC0DD \\uC774\\uB984\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              value: studentInfo.name,\n              onChange: handleStudentInfoChange,\n              placeholder: \"\\uD559\\uC0DD \\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"\\uCC44\\uD305 \\uC2DC\\uC791\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"student-info-display\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [studentInfo.grade, \"\\uD559\\uB144 \", studentInfo.class, \"\\uBC18 \", studentInfo.name, \" \\uD559\\uC0DD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-container\",\n          children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${message.sender === 'user' ? 'user-message' : 'bot-message'}`,\n            children: message.text\n          }, message.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSendMessage,\n          className: \"message-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"\\uC804\\uC1A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleFinishChat,\n          className: \"finish-button\",\n          children: \"\\uCC44\\uD305 \\uC644\\uB8CC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uC0C1\\uB2F4 \\uC694\\uC57D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD559\\uC0DD \\uC815\\uBCF4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), \" \", studentInfo.grade, \"\\uD559\\uB144 \", studentInfo.class, \"\\uBC18 \", studentInfo.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uBB38\\uC758 \\uC0C1\\uD0DC:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), \" \", emailStatus]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-points\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uC694\\uC57D \\uC815\\uBCF4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uC8FC\\uC81C:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this), \" \", conversationSummary.topic || '학부모 문의']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uC8FC\\uC694 \\uB17C\\uC758\\uC0AC\\uD56D:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: conversationSummary.keyPoints.map((point, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: point\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this), conversationSummary.links && conversationSummary.links.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\uAD00\\uB828 \\uB9C1\\uD06C:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: conversationSummary.links.map((link, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: link.url,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      children: link.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 29\n                    }, this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"conversation-toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowConversation(!showConversation),\n              className: \"toggle-button\",\n              children: showConversation ? '대화 내용 숨기기 ▲' : '대화 내용 보기 ▼'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this), showConversation && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-summary\",\n              children: messages.map(message => /*#__PURE__*/_jsxDEV(\"p\", {\n                className: message.sender,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [message.sender === 'user' ? '학부모' : '챗봇', \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 25\n                }, this), \" \", message.text]\n              }, message.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"email-sent\",\n          children: [\"\\uC704 \\uB0B4\\uC6A9\\uC774 \", studentInfo.grade, \"\\uD559\\uB144 \", studentInfo.class, \"\\uBC18 \\uB2F4\\uC784 \\uC120\\uC0DD\\uB2D8\\uAED8\", emailStatus, \" \\uD0DC\\uADF8\\uC640 \\uD568\\uAED8 \\uC774\\uBA54\\uC77C\\uB85C \\uC804\\uC1A1\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRestart,\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Wa9UfFqiE8vFnlWlkXZGyI5PZ0M=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","step","setStep","studentInfo","setStudentInfo","grade","class","name","messages","setMessages","newMessage","setNewMessage","emailStatus","setEmailStatus","conversationSummary","setConversationSummary","topic","keyPoints","links","showConversation","setShowConversation","messagesEndRef","current","scrollIntoView","behavior","handleStudentInfoChange","e","value","target","handleSubmitStudentInfo","preventDefault","alert","id","Date","now","text","sender","handleSendMessage","trim","userMessage","prev","setTimeout","botResponse","getBotResponse","message","includes","handleFinishChat","status","allText","map","m","join","toLowerCase","generateSummary","push","title","url","length","summary","handleRestart","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","cls","type","placeholder","ref","onClick","point","index","link","href","rel","_c","$RefreshReg$"],"sources":["/Users/jeong-yujin/Downloads/parent-teacher-chatbot/client/src/App.js"],"sourcesContent":["// App.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nfunction App() {\n  // 상태 관리\n  const [step, setStep] = useState(1); // 1: 학생 정보 입력, 2: 채팅, 3: 결과 요약\n  const [studentInfo, setStudentInfo] = useState({\n    grade: '',\n    class: '',\n    name: '',\n  });\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [emailStatus, setEmailStatus] = useState(''); // [해결], [미해결], [확인 부탁]\n  const [conversationSummary, setConversationSummary] = useState({\n    topic: '',\n    keyPoints: ['문의 내용을 분석 중입니다...'],\n    links: []\n  });\n  const [showConversation, setShowConversation] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  // 메시지 목록이 업데이트될 때마다 스크롤을 아래로 이동\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  // 학생 정보 입력 변경 핸들러\n  const handleStudentInfoChange = (e) => {\n    const { name, value } = e.target;\n    setStudentInfo({\n      ...studentInfo,\n      [name]: value,\n    });\n  };\n\n  // 학생 정보 제출 핸들러\n  const handleSubmitStudentInfo = (e) => {\n    e.preventDefault();\n    // 모든 필드가 입력되었는지 확인\n    if (!studentInfo.grade || !studentInfo.class || !studentInfo.name) {\n      alert('모든 학생 정보를 입력해주세요.');\n      return;\n    }\n    \n    // 채팅 단계로 이동\n    setStep(2);\n    \n    // 초기 인사 메시지 추가\n    setMessages([\n      {\n        id: Date.now(),\n        text: `${studentInfo.name} 학생의 학부모님, 안녕하세요! 이도 초등학교 챗봇입니다. 무엇을 도와드릴까요?`,\n        sender: 'bot',\n      },\n    ]);\n  };\n\n  // 새 메시지 전송 핸들러\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n\n    // 새 메시지 추가\n    const userMessage = {\n      id: Date.now(),\n      text: newMessage,\n      sender: 'user',\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    setNewMessage('');\n\n    // AI 응답 처리 (실제 구현에서는 OpenAI API 호출)\n    setTimeout(() => {\n      const botResponse = {\n        id: Date.now(),\n        text: getBotResponse(newMessage),\n        sender: 'bot',\n      };\n      setMessages((prev) => [...prev, botResponse]);\n    }, 1000);\n  };\n\n  // 간단한 봇 응답 생성 (실제 RAG 구현은 OpenAI API로 대체)\n  const getBotResponse = (message) => {\n    // 실제 구현에서는 OpenAI API를 호출하여 RAG 시스템으로 응답 생성\n    if (message.includes('가정통신문')) {\n      return '가정통신문은 매주 금요일에 발송됩니다. 최근 가정통신문은 학교 홈페이지에서도 확인하실 수 있습니다.';\n    } else if (message.includes('급식')) {\n      return '급식 메뉴는 학교 홈페이지의 \"급식 안내\" 메뉴에서 확인하실 수 있습니다.';\n    } else if (message.includes('상담')) {\n      return '선생님과의 상담은 사전 예약이 필요합니다. 원하시는 날짜와 시간을 알려주시면 선생님께 전달하겠습니다.';\n    } else {\n      return '죄송합니다. 말씀하신 내용에 대한 정보가 부족합니다. 선생님께 직접 전달하도록 하겠습니다.';\n    }\n  };\n\n  // 채팅 완료 핸들러\n  const handleFinishChat = async () => {\n    // 간단한 분류 로직 (실제로는 더 복잡한 AI 분류 사용)\n    let status = '[확인 부탁]'; // 기본값\n    \n    const allText = messages.map(m => m.text).join(' ').toLowerCase();\n    \n    if (allText.includes('상담') || allText.includes('면담')) {\n      status = '[확인 부탁]';\n    } else if (allText.includes('감사') || allText.includes('해결')) {\n      status = '[해결]';\n    } else if (allText.includes('문제') || allText.includes('불만')) {\n      status = '[미해결]';\n    }\n    \n    setEmailStatus(status);\n    \n    // 대화 내용 요약 생성 (실제로는 서버 API를 호출)\n    // 여기서는 간단한 예시로 구현\n    const generateSummary = () => {\n      // 실제 구현에서는 서버에 API 요청\n      \n      // 대화 주제 추출\n      let topic = '일반 문의';\n      if (allText.includes('교육비') || allText.includes('지원')) {\n        topic = '교육비 지원 문의';\n      } else if (allText.includes('체육') || allText.includes('대회')) {\n        topic = '도민체육대회 관련 문의';\n      } else if (allText.includes('일정') || allText.includes('행사')) {\n        topic = '학교 일정 문의';\n      }\n      \n      // 키포인트 추출 (실제로는 AI가 분석)\n      const keyPoints = [];\n      if (allText.includes('신청')) keyPoints.push('교육비 지원 신청 방법 문의');\n      if (allText.includes('기간')) keyPoints.push('신청 기간 문의');\n      if (allText.includes('서류')) keyPoints.push('필요 서류 문의');\n      if (allText.includes('자격')) keyPoints.push('지원 자격 문의');\n      \n      // 링크 추천 (실제로는 문서 분석 기반으로 제공)\n      const links = [];\n      if (topic === '교육비 지원 문의') {\n        links.push({\n          title: '교육비 지원 안내 페이지',\n          url: 'https://www.ido.school.edu/support'\n        });\n      } else if (topic === '도민체육대회 관련 문의') {\n        links.push({\n          title: '제59회 도민체육대회 안내',\n          url: 'https://www.ido.school.edu/sports'\n        });\n      }\n      \n      // 키포인트가 없으면 기본값 설정\n      if (keyPoints.length === 0) {\n        keyPoints.push('학부모님의 질문에 대한 정보 제공');\n        keyPoints.push('필요시 담임교사의 추가 확인 필요');\n      }\n      \n      return {\n        topic,\n        keyPoints,\n        links\n      };\n    };\n    \n    const summary = generateSummary();\n    setConversationSummary(summary);\n    setStep(3);\n  };\n\n  // 처음으로 돌아가기\n  const handleRestart = () => {\n    setStep(1);\n    setStudentInfo({\n      grade: '',\n      class: '',\n      name: '',\n    });\n    setMessages([]);\n    setNewMessage('');\n    setEmailStatus('');\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>이도 초등학교 학부모 소통 챗봇</h1>\n      </header>\n\n      <main>\n        {step === 1 && (\n          <div className=\"student-info-container\">\n            <h2>학생 정보 입력</h2>\n            <form onSubmit={handleSubmitStudentInfo}>\n              <div className=\"form-group\">\n                <label>학년</label>\n                <select \n                  name=\"grade\" \n                  value={studentInfo.grade} \n                  onChange={handleStudentInfoChange}\n                  required\n                >\n                  <option value=\"\">선택하세요</option>\n                  {[1, 2, 3, 4, 5, 6].map((grade) => (\n                    <option key={grade} value={grade}>\n                      {grade}학년\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>반</label>\n                <select \n                  name=\"class\" \n                  value={studentInfo.class} \n                  onChange={handleStudentInfoChange}\n                  required\n                >\n                  <option value=\"\">선택하세요</option>\n                  {[1, 2, 3, 4, 5].map((cls) => (\n                    <option key={cls} value={cls}>\n                      {cls}반\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>학생 이름</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={studentInfo.name}\n                  onChange={handleStudentInfoChange}\n                  placeholder=\"학생 이름을 입력하세요\"\n                  required\n                />\n              </div>\n\n              <button type=\"submit\">채팅 시작하기</button>\n            </form>\n          </div>\n        )}\n\n        {step === 2 && (\n          <div className=\"chat-container\">\n            <div className=\"student-info-display\">\n              <p>\n                {studentInfo.grade}학년 {studentInfo.class}반 {studentInfo.name} 학생\n              </p>\n            </div>\n\n            <div className=\"messages-container\">\n              {messages.map((message) => (\n                <div\n                  key={message.id}\n                  className={`message ${message.sender === 'user' ? 'user-message' : 'bot-message'}`}\n                >\n                  {message.text}\n                </div>\n              ))}\n              <div ref={messagesEndRef} />\n            </div>\n\n            <form onSubmit={handleSendMessage} className=\"message-form\">\n              <input\n                type=\"text\"\n                value={newMessage}\n                onChange={(e) => setNewMessage(e.target.value)}\n                placeholder=\"메시지를 입력하세요...\"\n              />\n              <button type=\"submit\">전송</button>\n            </form>\n\n            <button onClick={handleFinishChat} className=\"finish-button\">\n              채팅 완료\n            </button>\n          </div>\n        )}\n\n        {step === 3 && (\n          <div className=\"summary-container\">\n            <h2>상담 요약</h2>\n            <div className=\"summary-content\">\n              <p>\n                <strong>학생 정보:</strong> {studentInfo.grade}학년 {studentInfo.class}반 {studentInfo.name}\n              </p>\n              <p>\n                <strong>문의 상태:</strong> {emailStatus}\n              </p>\n              \n              {/* 요약 정보 섹션 */}\n              <div className=\"summary-points\">\n                <h3>요약 정보:</h3>\n                <ul>\n                  <li><strong>주제:</strong> {conversationSummary.topic || '학부모 문의'}</li>\n                  <li><strong>주요 논의사항:</strong></li>\n                  <ul>\n                    {conversationSummary.keyPoints.map((point, index) => (\n                      <li key={index}>{point}</li>\n                    ))}\n                  </ul>\n                  {conversationSummary.links && conversationSummary.links.length > 0 && (\n                    <>\n                      <li><strong>관련 링크:</strong></li>\n                      <ul>\n                        {conversationSummary.links.map((link, index) => (\n                          <li key={index}>\n                            <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                              {link.title}\n                            </a>\n                          </li>\n                        ))}\n                      </ul>\n                    </>\n                  )}\n                </ul>\n              </div>\n              \n              {/* 토글 가능한 대화 내용 섹션 */}\n              <div className=\"conversation-toggle\">\n                <button \n                  onClick={() => setShowConversation(!showConversation)}\n                  className=\"toggle-button\"\n                >\n                  {showConversation ? '대화 내용 숨기기 ▲' : '대화 내용 보기 ▼'}\n                </button>\n                \n                {showConversation && (\n                  <div className=\"message-summary\">\n                    {messages.map((message) => (\n                      <p key={message.id} className={message.sender}>\n                        <strong>{message.sender === 'user' ? '학부모' : '챗봇'}:</strong> {message.text}\n                      </p>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n            <p className=\"email-sent\">\n              위 내용이 {studentInfo.grade}학년 {studentInfo.class}반 담임 선생님께 \n              {emailStatus} 태그와 함께 이메일로 전송되었습니다.\n            </p>\n            <button onClick={handleRestart}>처음으로 돌아가기</button>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb;EACA,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACrC,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC;IAC7Ca,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkB,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACpD,MAAM,CAACsB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGvB,QAAQ,CAAC;IAC7DwB,KAAK,EAAE,EAAE;IACTC,SAAS,EAAE,CAAC,mBAAmB,CAAC;IAChCC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM6B,cAAc,GAAG3B,MAAM,CAAC,IAAI,CAAC;;EAEnC;EACAD,SAAS,CAAC,MAAM;IACd,IAAI4B,cAAc,CAACC,OAAO,EAAE;MAC1BD,cAAc,CAACC,OAAO,CAACC,cAAc,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IAC/D;EACF,CAAC,EAAE,CAAChB,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMiB,uBAAuB,GAAIC,CAAC,IAAK;IACrC,MAAM;MAAEnB,IAAI;MAAEoB;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAChCxB,cAAc,CAAC;MACb,GAAGD,WAAW;MACd,CAACI,IAAI,GAAGoB;IACV,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAME,uBAAuB,GAAIH,CAAC,IAAK;IACrCA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB;IACA,IAAI,CAAC3B,WAAW,CAACE,KAAK,IAAI,CAACF,WAAW,CAACG,KAAK,IAAI,CAACH,WAAW,CAACI,IAAI,EAAE;MACjEwB,KAAK,CAAC,mBAAmB,CAAC;MAC1B;IACF;;IAEA;IACA7B,OAAO,CAAC,CAAC,CAAC;;IAEV;IACAO,WAAW,CAAC,CACV;MACEuB,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdC,IAAI,EAAE,GAAGhC,WAAW,CAACI,IAAI,8CAA8C;MACvE6B,MAAM,EAAE;IACV,CAAC,CACF,CAAC;EACJ,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAG,MAAOX,CAAC,IAAK;IACrCA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAI,CAACpB,UAAU,CAAC4B,IAAI,CAAC,CAAC,EAAE;;IAExB;IACA,MAAMC,WAAW,GAAG;MAClBP,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdC,IAAI,EAAEzB,UAAU;MAChB0B,MAAM,EAAE;IACV,CAAC;IAED3B,WAAW,CAAE+B,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAED,WAAW,CAAC,CAAC;IAC7C5B,aAAa,CAAC,EAAE,CAAC;;IAEjB;IACA8B,UAAU,CAAC,MAAM;MACf,MAAMC,WAAW,GAAG;QAClBV,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;QACdC,IAAI,EAAEQ,cAAc,CAACjC,UAAU,CAAC;QAChC0B,MAAM,EAAE;MACV,CAAC;MACD3B,WAAW,CAAE+B,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEE,WAAW,CAAC,CAAC;IAC/C,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;;EAED;EACA,MAAMC,cAAc,GAAIC,OAAO,IAAK;IAClC;IACA,IAAIA,OAAO,CAACC,QAAQ,CAAC,OAAO,CAAC,EAAE;MAC7B,OAAO,yDAAyD;IAClE,CAAC,MAAM,IAAID,OAAO,CAACC,QAAQ,CAAC,IAAI,CAAC,EAAE;MACjC,OAAO,2CAA2C;IACpD,CAAC,MAAM,IAAID,OAAO,CAACC,QAAQ,CAAC,IAAI,CAAC,EAAE;MACjC,OAAO,0DAA0D;IACnE,CAAC,MAAM;MACL,OAAO,oDAAoD;IAC7D;EACF,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC;IACA,IAAIC,MAAM,GAAG,SAAS,CAAC,CAAC;;IAExB,MAAMC,OAAO,GAAGxC,QAAQ,CAACyC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACf,IAAI,CAAC,CAACgB,IAAI,CAAC,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC;IAEjE,IAAIJ,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,IAAIG,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE;MACpDE,MAAM,GAAG,SAAS;IACpB,CAAC,MAAM,IAAIC,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,IAAIG,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE;MAC3DE,MAAM,GAAG,MAAM;IACjB,CAAC,MAAM,IAAIC,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,IAAIG,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE;MAC3DE,MAAM,GAAG,OAAO;IAClB;IAEAlC,cAAc,CAACkC,MAAM,CAAC;;IAEtB;IACA;IACA,MAAMM,eAAe,GAAGA,CAAA,KAAM;MAC5B;;MAEA;MACA,IAAIrC,KAAK,GAAG,OAAO;MACnB,IAAIgC,OAAO,CAACH,QAAQ,CAAC,KAAK,CAAC,IAAIG,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE;QACrD7B,KAAK,GAAG,WAAW;MACrB,CAAC,MAAM,IAAIgC,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,IAAIG,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE;QAC3D7B,KAAK,GAAG,cAAc;MACxB,CAAC,MAAM,IAAIgC,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,IAAIG,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE;QAC3D7B,KAAK,GAAG,UAAU;MACpB;;MAEA;MACA,MAAMC,SAAS,GAAG,EAAE;MACpB,IAAI+B,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE5B,SAAS,CAACqC,IAAI,CAAC,iBAAiB,CAAC;MAC7D,IAAIN,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE5B,SAAS,CAACqC,IAAI,CAAC,UAAU,CAAC;MACtD,IAAIN,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE5B,SAAS,CAACqC,IAAI,CAAC,UAAU,CAAC;MACtD,IAAIN,OAAO,CAACH,QAAQ,CAAC,IAAI,CAAC,EAAE5B,SAAS,CAACqC,IAAI,CAAC,UAAU,CAAC;;MAEtD;MACA,MAAMpC,KAAK,GAAG,EAAE;MAChB,IAAIF,KAAK,KAAK,WAAW,EAAE;QACzBE,KAAK,CAACoC,IAAI,CAAC;UACTC,KAAK,EAAE,eAAe;UACtBC,GAAG,EAAE;QACP,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIxC,KAAK,KAAK,cAAc,EAAE;QACnCE,KAAK,CAACoC,IAAI,CAAC;UACTC,KAAK,EAAE,gBAAgB;UACvBC,GAAG,EAAE;QACP,CAAC,CAAC;MACJ;;MAEA;MACA,IAAIvC,SAAS,CAACwC,MAAM,KAAK,CAAC,EAAE;QAC1BxC,SAAS,CAACqC,IAAI,CAAC,oBAAoB,CAAC;QACpCrC,SAAS,CAACqC,IAAI,CAAC,oBAAoB,CAAC;MACtC;MAEA,OAAO;QACLtC,KAAK;QACLC,SAAS;QACTC;MACF,CAAC;IACH,CAAC;IAED,MAAMwC,OAAO,GAAGL,eAAe,CAAC,CAAC;IACjCtC,sBAAsB,CAAC2C,OAAO,CAAC;IAC/BxD,OAAO,CAAC,CAAC,CAAC;EACZ,CAAC;;EAED;EACA,MAAMyD,aAAa,GAAGA,CAAA,KAAM;IAC1BzD,OAAO,CAAC,CAAC,CAAC;IACVE,cAAc,CAAC;MACbC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE;IACR,CAAC,CAAC;IACFE,WAAW,CAAC,EAAE,CAAC;IACfE,aAAa,CAAC,EAAE,CAAC;IACjBE,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;EAED,oBACEjB,OAAA;IAAKgE,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBjE,OAAA;MAAQgE,SAAS,EAAC,YAAY;MAAAC,QAAA,eAC5BjE,OAAA;QAAAiE,QAAA,EAAI;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC,eAETrE,OAAA;MAAAiE,QAAA,GACG5D,IAAI,KAAK,CAAC,iBACTL,OAAA;QAAKgE,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBACrCjE,OAAA;UAAAiE,QAAA,EAAI;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjBrE,OAAA;UAAMsE,QAAQ,EAAErC,uBAAwB;UAAAgC,QAAA,gBACtCjE,OAAA;YAAKgE,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBjE,OAAA;cAAAiE,QAAA,EAAO;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjBrE,OAAA;cACEW,IAAI,EAAC,OAAO;cACZoB,KAAK,EAAExB,WAAW,CAACE,KAAM;cACzB8D,QAAQ,EAAE1C,uBAAwB;cAClC2C,QAAQ;cAAAP,QAAA,gBAERjE,OAAA;gBAAQ+B,KAAK,EAAC,EAAE;gBAAAkC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAChB,GAAG,CAAE5C,KAAK,iBAC5BT,OAAA;gBAAoB+B,KAAK,EAAEtB,KAAM;gBAAAwD,QAAA,GAC9BxD,KAAK,EAAC,cACT;cAAA,GAFaA,KAAK;gBAAAyD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEV,CACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENrE,OAAA;YAAKgE,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBjE,OAAA;cAAAiE,QAAA,EAAO;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAChBrE,OAAA;cACEW,IAAI,EAAC,OAAO;cACZoB,KAAK,EAAExB,WAAW,CAACG,KAAM;cACzB6D,QAAQ,EAAE1C,uBAAwB;cAClC2C,QAAQ;cAAAP,QAAA,gBAERjE,OAAA;gBAAQ+B,KAAK,EAAC,EAAE;gBAAAkC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAChB,GAAG,CAAEoB,GAAG,iBACvBzE,OAAA;gBAAkB+B,KAAK,EAAE0C,GAAI;gBAAAR,QAAA,GAC1BQ,GAAG,EAAC,QACP;cAAA,GAFaA,GAAG;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAER,CACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENrE,OAAA;YAAKgE,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBjE,OAAA;cAAAiE,QAAA,EAAO;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpBrE,OAAA;cACE0E,IAAI,EAAC,MAAM;cACX/D,IAAI,EAAC,MAAM;cACXoB,KAAK,EAAExB,WAAW,CAACI,IAAK;cACxB4D,QAAQ,EAAE1C,uBAAwB;cAClC8C,WAAW,EAAC,gEAAc;cAC1BH,QAAQ;YAAA;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENrE,OAAA;YAAQ0E,IAAI,EAAC,QAAQ;YAAAT,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACN,EAEAhE,IAAI,KAAK,CAAC,iBACTL,OAAA;QAAKgE,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BjE,OAAA;UAAKgE,SAAS,EAAC,sBAAsB;UAAAC,QAAA,eACnCjE,OAAA;YAAAiE,QAAA,GACG1D,WAAW,CAACE,KAAK,EAAC,eAAG,EAACF,WAAW,CAACG,KAAK,EAAC,SAAE,EAACH,WAAW,CAACI,IAAI,EAAC,eAC/D;UAAA;YAAAuD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAENrE,OAAA;UAAKgE,SAAS,EAAC,oBAAoB;UAAAC,QAAA,GAChCrD,QAAQ,CAACyC,GAAG,CAAEL,OAAO,iBACpBhD,OAAA;YAEEgE,SAAS,EAAE,WAAWhB,OAAO,CAACR,MAAM,KAAK,MAAM,GAAG,cAAc,GAAG,aAAa,EAAG;YAAAyB,QAAA,EAElFjB,OAAO,CAACT;UAAI,GAHRS,OAAO,CAACZ,EAAE;YAAA8B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAIZ,CACN,CAAC,eACFrE,OAAA;YAAK4E,GAAG,EAAEnD;UAAe;YAAAyC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,eAENrE,OAAA;UAAMsE,QAAQ,EAAE7B,iBAAkB;UAACuB,SAAS,EAAC,cAAc;UAAAC,QAAA,gBACzDjE,OAAA;YACE0E,IAAI,EAAC,MAAM;YACX3C,KAAK,EAAEjB,UAAW;YAClByD,QAAQ,EAAGzC,CAAC,IAAKf,aAAa,CAACe,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;YAC/C4C,WAAW,EAAC;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC,eACFrE,OAAA;YAAQ0E,IAAI,EAAC,QAAQ;YAAAT,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC,eAEPrE,OAAA;UAAQ6E,OAAO,EAAE3B,gBAAiB;UAACc,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAE7D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,EAEAhE,IAAI,KAAK,CAAC,iBACTL,OAAA;QAAKgE,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAChCjE,OAAA;UAAAiE,QAAA,EAAI;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACdrE,OAAA;UAAKgE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BjE,OAAA;YAAAiE,QAAA,gBACEjE,OAAA;cAAAiE,QAAA,EAAQ;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC9D,WAAW,CAACE,KAAK,EAAC,eAAG,EAACF,WAAW,CAACG,KAAK,EAAC,SAAE,EAACH,WAAW,CAACI,IAAI;UAAA;YAAAuD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnF,CAAC,eACJrE,OAAA;YAAAiE,QAAA,gBACEjE,OAAA;cAAAiE,QAAA,EAAQ;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACrD,WAAW;UAAA;YAAAkD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC,eAGJrE,OAAA;YAAKgE,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7BjE,OAAA;cAAAiE,QAAA,EAAI;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfrE,OAAA;cAAAiE,QAAA,gBACEjE,OAAA;gBAAAiE,QAAA,gBAAIjE,OAAA;kBAAAiE,QAAA,EAAQ;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAACnD,mBAAmB,CAACE,KAAK,IAAI,QAAQ;cAAA;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACrErE,OAAA;gBAAAiE,QAAA,eAAIjE,OAAA;kBAAAiE,QAAA,EAAQ;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAClCrE,OAAA;gBAAAiE,QAAA,EACG/C,mBAAmB,CAACG,SAAS,CAACgC,GAAG,CAAC,CAACyB,KAAK,EAAEC,KAAK,kBAC9C/E,OAAA;kBAAAiE,QAAA,EAAiBa;gBAAK,GAAbC,KAAK;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAa,CAC5B;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,EACJnD,mBAAmB,CAACI,KAAK,IAAIJ,mBAAmB,CAACI,KAAK,CAACuC,MAAM,GAAG,CAAC,iBAChE7D,OAAA,CAAAE,SAAA;gBAAA+D,QAAA,gBACEjE,OAAA;kBAAAiE,QAAA,eAAIjE,OAAA;oBAAAiE,QAAA,EAAQ;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChCrE,OAAA;kBAAAiE,QAAA,EACG/C,mBAAmB,CAACI,KAAK,CAAC+B,GAAG,CAAC,CAAC2B,IAAI,EAAED,KAAK,kBACzC/E,OAAA;oBAAAiE,QAAA,eACEjE,OAAA;sBAAGiF,IAAI,EAAED,IAAI,CAACpB,GAAI;sBAAC5B,MAAM,EAAC,QAAQ;sBAACkD,GAAG,EAAC,qBAAqB;sBAAAjB,QAAA,EACzDe,IAAI,CAACrB;oBAAK;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACV;kBAAC,GAHGU,KAAK;oBAAAb,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAIV,CACL;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC;cAAA,eACL,CACH;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eAGNrE,OAAA;YAAKgE,SAAS,EAAC,qBAAqB;YAAAC,QAAA,gBAClCjE,OAAA;cACE6E,OAAO,EAAEA,CAAA,KAAMrD,mBAAmB,CAAC,CAACD,gBAAgB,CAAE;cACtDyC,SAAS,EAAC,eAAe;cAAAC,QAAA,EAExB1C,gBAAgB,GAAG,aAAa,GAAG;YAAY;cAAA2C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC,EAER9C,gBAAgB,iBACfvB,OAAA;cAAKgE,SAAS,EAAC,iBAAiB;cAAAC,QAAA,EAC7BrD,QAAQ,CAACyC,GAAG,CAAEL,OAAO,iBACpBhD,OAAA;gBAAoBgE,SAAS,EAAEhB,OAAO,CAACR,MAAO;gBAAAyB,QAAA,gBAC5CjE,OAAA;kBAAAiE,QAAA,GAASjB,OAAO,CAACR,MAAM,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,EAAC,GAAC;gBAAA;kBAAA0B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAACrB,OAAO,CAACT,IAAI;cAAA,GADpES,OAAO,CAACZ,EAAE;gBAAA8B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEf,CACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNrE,OAAA;UAAGgE,SAAS,EAAC,YAAY;UAAAC,QAAA,GAAC,4BAClB,EAAC1D,WAAW,CAACE,KAAK,EAAC,eAAG,EAACF,WAAW,CAACG,KAAK,EAAC,8CAC/C,EAACM,WAAW,EAAC,uGACf;QAAA;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJrE,OAAA;UAAQ6E,OAAO,EAAEd,aAAc;UAAAE,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAACjE,EAAA,CA5VQD,GAAG;AAAAgF,EAAA,GAAHhF,GAAG;AA8VZ,eAAeA,GAAG;AAAC,IAAAgF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}